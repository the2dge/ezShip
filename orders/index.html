<!DOCTYPE html>
<html>
<head>
    <title>荳荳先生精品堅果 超低溫養生堅果</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="canonical" href="https://www.mrbean.tw">
    <link rel="icon" type="image/png" href="https://i.postimg.cc/Nf8M6szk/mrbean.jpg">
    <meta name="keywords" content="超低溫烘焙,精品堅果, 養生堅果,堅果多,營養早餐">
    <style>
        html, body { margin: 0; padding: 0; font-family: Arial, sans-serif; }
        .nav-container { 
            background: #f8f9fa; 
            padding: 10px; 
            border-bottom: 1px solid #ddd;
            text-align: center;
        }
        .nav-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 8px 16px;
            margin: 0 5px;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
        }
        .nav-button:hover {
            background: #0056b3;
        }
        .nav-button.active {
            background: #28a745;
        }
        #webapp-frame {
            border: none;
            width: 100%;
            height: calc(100vh - 60px);
        }
    </style>
</head>
<body>
    <!-- Optional navigation buttons -->
    <div class="nav-container">
        <button class="nav-button" onclick="loadPage('home')">首頁</button>
        <button class="nav-button" onclick="loadPage('order')">訂單</button>
        <button class="nav-button" onclick="loadPage('ecpay')">ECPay</button>
    </div>
    
    <iframe id="webapp-frame" src="https://script.google.com/macros/s/AKfycbz0jhm5jQBLSi6OUJvkowLGkc6rNECeB1iW2_8VdNRTdWbZkr890bf77gS9LsNFoisY2Q/exec?v=home"></iframe>

    <script>
        const baseUrl = 'https://script.google.com/macros/s/AKfycbz0jhm5jQBLSi6OUJvkowLGkc6rNECeB1iW2_8VdNRTdWbZkr890bf77gS9LsNFoisY2Q/exec';
        
        function loadPage(page) {
            const iframe = document.getElementById('webapp-frame');
            iframe.src = `${baseUrl}?v=${page}`;
            
            // Update active button styling
            document.querySelectorAll('.nav-button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Update URL hash for bookmarking (optional)
            window.location.hash = page;
        }
        
        // Load page based on URL hash on initial load
        function initializePage() {
            const hash = window.location.hash.substring(1);
            if (hash && ['home', 'order', 'ecpay'].includes(hash)) {
                loadPage(hash);
                // Set active button
                document.querySelectorAll('.nav-button').forEach(btn => {
                    if (btn.textContent.includes(getPageName(hash))) {
                        btn.classList.add('active');
                    }
                });
            } else {
                // Default to home
                document.querySelector('.nav-button').classList.add('active');
            }
        }
        
        function getPageName(page) {
            const pageNames = {
                'home': '首頁',
                'order': '訂單', 
                'ecpay': 'ECPay'
            };
            return pageNames[page] || '首頁';
        }
        
        // Initialize on page load
        window.addEventListener('load', initializePage);
        
        // Handle browser back/forward buttons
        window.addEventListener('hashchange', initializePage);
    </script>
</body>
</html>
